---
import Layout from '../Layout/Layout.astro';
import jobOpenings from './jobOpenings.js';

const jobId = Astro.url.searchParams.get('id');
const job = jobOpenings.find((j) => j.id === jobId);

// If no job is found, immediately redirect to a "not found" page.
if (!job) {
  return Astro.redirect('/job-not-found');
}


---

<Layout title='(title)'>
  <main class='container mx-auto px-4 py-8'>
    <div class='max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg'>
      <h1 class='text-4xl font-bold text-gray-800 mb-2'>{job.title}</h1>
      <p class='text-gray-600 mb-6'>{job.department}</p>

      <div class='prose max-w-none text-gray-700'>
        <h3>Job Description</h3>
        <p>{job.description}</p>

        <h3>Responsibilities</h3>
        <ul>
          {job.responsibilities.map((item) => <li>{item}</li>)}
        </ul>

        <h3>Qualifications</h3>
        <ul>
          {job.qualifications.map((item) => <li>{item}</li>)}
        </ul>

        <div class='mt-8 text-center'>
          <a
            href='#'
            class='inline-block px-8 py-3 text-lg font-semibold text-white bg-accent rounded-full hover:bg-accent transition-colors duration-300'
            >Apply Now</a
          >
        </div>
      </div>

      <div class='mt-12 text-center'>
        <a
          href='/careers'
          class='text-primary hover:text-accent transition-colors duration-300'>
          ‚Üê Back to all job openings
        </a>
      </div>
    </div>
  </main>
</Layout>
