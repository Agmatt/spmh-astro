---
import Layout from '../../Layout/Layout.astro';
import Cards from '../../components/Cards.astro';

const impactStats = [
  {
    target: 40,
    suffix: '+',
    label: 'Years of Dedicated Service',
    color: 'text-[#125276]',
  },
  {
    target: 500,
    suffix: 'k+',
    label: 'Community Members Served',
    color: 'text-[#125276]',
  },
  {
    target: 24,
    suffix: '/7',
    label: 'Emergency Care Availability',
    color: 'text-[#125276]',
  },
  {
    target: 5,
    suffix: ' Core',
    label: 'Specialties Focused on You',
    color: 'text-[#860f0f]',
  },
];
---

<Layout title='Our History'>
  <!-- Header -->
  <section
    class='relative min-h-[80vh] flex items-center justify-center py-24 overflow-hidden'>
    <div
      class='absolute inset-0 z-0 bg-fixed bg-center bg-cover transition-opacity duration-1000'
      style="background-image: url('/img/fs1.jpg'); filter: sepia(0.4);"
      loading='lazy'>
    </div>

    <div class='absolute inset-0 z-10 bg-white/70'></div>

    <div class='container mx-auto px-6 max-w-5xl text-center relative z-20'>
      <nav class='flex justify-center items-center gap-4 mb-10'>
        <span
          class='text-[10px] font-black uppercase tracking-[0.5em] text-[#860f0f]'
          >Est. 1983 // Homa Bay</span
        >
      </nav>

      <h1
        class='text-5xl md:text-8xl font-serif italic text-slate-900 leading-[1.1] mb-12 drop-shadow-sm'>
        The Art of <br class='hidden md:block' />
        <span
          class='font-sans not-italic font-black text-[#125276] uppercase tracking-tighter'>
          Healing Ministry
        </span>
      </h1>

      <div class='max-w-3xl mx-auto'>
        <p
          class='text-xl md:text-2xl font-light text-slate-900 leading-relaxed'>
          St. Paul’s Mission Hospital, Homa Bay, is a
          <span class='text-[#860f0f] font-bold'>faith-based,</span>
          health institution deeply rooted in the Catholic Church’s healing mission
          and the Franciscan tradition of compassionate service.
        </p>
      </div>
    </div>
  </section>

  <style>
    @media (max-width: 1024px) {
      div[style*='background-image'] {
        background-attachment: scroll !important;
      }
    }
  </style>

  <section class='py-16 bg-white'>
    <div class='container mx-auto px-2 md:px-4 max-w-6xl'>
      <div class='grid md:grid-cols-2 gap-20 items-center mb-32'>
        <div class='relative'>
          <div class='aspect-[7/5] bg-slate-100 rounded overflow-hidden'>
            <img
              src='/img/fs2.jpg'
              class='w-full h-full object-cover grayscale opacity-80'
            />
          </div>
        </div>
        <div>
          <h3
            class='text-xs font-black uppercase tracking-[0.3em] text-[#1565c0] mb-6'>
            The Beginning
          </h3>
          <h2 class='text-4xl font-bold text-secondary tracking-tight mb-6'>
            A Response to Crisis
          </h2>
          <p class='text-lg text-slate-500 leading-relaxed'>
            Founded by the Franciscan Sisters of St. Joseph Asumbi as a direct
            response to the child malnutrition crisis. The Sisters began St.
            Paul’s as a <span class='text-[#125276] font-bold'
              >Nutrition Centre</span
            > to help malnourished children from the nearby Makongeni and Shauri Yako
            settlements.
          </p>
        </div>
      </div>

      <div
        class='grid md:grid-cols-2 gap-8 items-center mb-12 md:flex-row-reverse'>
        <div class='order-2 md:order-1'>
          <h3
            class='text-md font-black uppercase tracking-[0.3em] text-[#1565c0] mb-4'>
            Expansion into Healthcare
          </h3>
          <p class='text-lg text-slate-700 leading-relaxed'>
            As demand grew, the Sisters expanded services beyond nutrition,
            offering preventive, promotive, and curative care to low-income
            families and fishermen in the peri-urban region.
          </p>
        </div>
        <div
          class='order-1 md:order-2 bg-slate-200 p-6 rounded-lg border border-slate-100'>
          <p class='text-2xl md:text-4xl font-serif italic text-[#125276]'>
            "Evolving into a critical health anchor for Homa Bay County."
          </p>
        </div>
      </div>

      <div
        class='bg-secondary rounded-md p-4 md:p-18 text-white relative overflow-hidden'>
        <div class='relative z-10 grid lg:grid-cols-2 gap-12 items-center'>
          <div>
            <h2
              class='text-5xl text-white font-black uppercase tracking-tighter mb-8'>
              Today
            </h2>
            <p class='text-xl text-blue-100/80 font-light leading-relaxed'>
              St. Paul’s Mission Hospital is now the only facility of its kind
              in the area, serving a population of over <span
                class='text-white font-bold'>500,000 residents</span
              > who live mostly below the poverty line.
            </p>
          </div>
          <div
            class='p-4 md:p-8 bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl'>
            <p class='text-sm font-medium leading-relaxed italic opacity-90'>
              Currently designated as a Level 4 facility, St. Paul’s operates
              under the Catholic Diocese of Homa Bay and is affiliated with the
              Kenya Episcopal Conference – Catholic Health Commission.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Impact Section -->
  <section class='py-12 overflow-hidden' id='impact-section'>
    <div class='container mx-auto px-6 md:px-4 max-w-6xl'>
      <div
        class='flex flex-col md:flex-row justify-between items-start md:items-end mb-20 gap-8'>
        <div class='max-w-2xl'>
          <nav class='flex items-center gap-3 mb-6'>
            <div class='h-[2px] w-8 bg-[#860f0f]'></div>
            <span
              class='text-[10px] font-black uppercase tracking-[0.5em] text-[#860f0f]'
              >Our Impact</span
            >
          </nav>
          <p
            class='text-4xl md:text-6xl font-bold text-slate-900 tracking-tighter leading-[0.9]'>
            Over four decades of <br />
            <span class='text-[#1565c0]'>unwavering care.</span>
          </p>
        </div>
        <p
          class='text-slate-500 max-w-xs text-sm leading-relaxed border-l border-slate-600 pl-6'>
          Measuring our success by the lives touched and the health restored to
          the Homa Bay community.
        </p>
      </div>

      <div class='grid grid-cols-2 lg:grid-cols-4 gap-12'>
        {
          impactStats.map((stat) => (
            <div class='relative group'>
              <div class='absolute top-0 left-0 w-full h-[1px] bg-slate-200 group-hover:bg-[#1565c0] transition-colors duration-500' />

              <div class='pt-8'>
                <span
                  class={`counter text-6xl md:text-7xl font-black ${stat.color} block mb-2 tabular-nums tracking-tighter`}
                  data-target={stat.target}>
                  0
                </span>
                <span
                  class={`text-2xl font-bold ${stat.color} opacity-80 block -mt-2 mb-4 uppercase tracking-tighter`}>
                  {stat.suffix}
                </span>
                <span class='text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 leading-relaxed block max-w-[150px]'>
                  {stat.label}
                </span>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class='py-24 bg-slate-200'>
    <div class='container mx-auto px-2 md:px-4 max-w-6xl'>
      <div class='mb-10'>
        <p class='text-3xl font-bold text-[#125276] tracking-tighter'>
          Discover Our <span class='italic font-serif font-light'
            >Structure & Vision.</span
          >
        </p>
      </div>

      <div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6'>
        <a
          href='/about-us/organization'
          class='group bg-white p-5 md:p-3 rounded-2xl border border-slate-400 hover:border-[#1565c0] hover:shadow-2xl hover:shadow-blue-900/5 transition-all duration-500 flex flex-col h-full'>
          <div
            class='w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-50 transition-colors'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              class='w-6 h-6 text-[#125276]'
              fill='none'
              viewBox='0 0 24 24'
              stroke='currentColor'>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='1.5'
                d='M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4'
              ></path>
            </svg>
          </div>
          <h3 class='text-lg font-bold mb-2 uppercase tracking-tight'>
            Organization
          </h3>
          <p class='text-sm text-slate-500 leading-relaxed mb-6'>
            Explore our governance, administrative structure, and departmental
            oversight.
          </p>
          <span
            class='mt-auto text-[10px] font-black uppercase tracking-widest text-[#1565c0] group-hover:translate-x-2 transition-transform duration-300'
            >View Structure →</span
          >
        </a>

        <a
          href='/about-us/strategic-plan'
          class='group bg-white p-5 md:p-3 rounded-2xl border border-slate-400 hover:border-[#1565c0] hover:shadow-2xl hover:shadow-blue-900/5 transition-all duration-500 flex flex-col h-full'>
          <div
            class='w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-50 transition-colors'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              class='w-6 h-6 text-[#125276]'
              fill='none'
              viewBox='0 0 24 24'
              stroke='currentColor'>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='1.5'
                d='M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z'
              ></path>
            </svg>
          </div>
          <h3 class='text-lg font-bold mb-2 uppercase tracking-tight'>
            Strategic Plan
          </h3>
          <p class='text-sm text-slate-500 leading-relaxed mb-6'>
            Our roadmap for the future: sustainable growth and advanced clinical
            excellence.
          </p>
          <span
            class='mt-auto text-[10px] font-black uppercase tracking-widest text-[#1565c0] group-hover:translate-x-2 transition-transform duration-300'
            >Read Roadmap →</span
          >
        </a>

        <a
          href='/about-us/mission-vision-values'
          class='group bg-white p-5 md:p-3 rounded-2xl border border-slate-400 hover:border-[#1565c0] hover:shadow-2xl hover:shadow-blue-900/5 transition-all duration-500 flex flex-col h-full'>
          <div
            class='w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-50 transition-colors'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              class='w-6 h-6 text-[#125276]'
              fill='none'
              viewBox='0 0 24 24'
              stroke='currentColor'>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='1.5'
                d='M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z'
              ></path>
            </svg>
          </div>
          <h3 class='text-lg font-bold mb-2 uppercase tracking-tight'>
            Our Mission
          </h3>
          <p class='text-sm text-slate-500 leading-relaxed mb-6'>
            Rooted in the Franciscan tradition of compassionate service and
            healing.
          </p>
          <span
            class='mt-auto text-[10px] font-black uppercase tracking-widest text-[#1565c0] group-hover:translate-x-2 transition-transform duration-300'
            >Our Core →</span
          >
        </a>

        <a
          href='/about-us/contact'
          class='group bg-[#125276] p-5 md:p-3 rounded-2xl border border-transparent hover:bg-[#1565c0] transition-all duration-500 flex flex-col h-full shadow-lg'>
          <div
            class='w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 text-white'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              class='w-6 h-6'
              fill='none'
              viewBox='0 0 24 24'
              stroke='currentColor'>
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='1.5'
                d='M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z'
              ></path>
            </svg>
          </div>
          <h3
            class='text-lg font-bold text-white mb-2 uppercase tracking-tight'>
            Contact
          </h3>
          <p class='text-sm text-blue-100/70 leading-relaxed mb-6'>
            Reach out to our patient affairs or administrative offices today.
          </p>
          <span
            class='mt-auto text-[10px] font-black uppercase tracking-widest text-white group-hover:translate-x-2 transition-transform duration-300'
            >Get in Touch →</span
          >
        </a>
      </div>
    </div>
  </section>

  <script>
    // Senior Dev JS: Intersection Observer for Auto-Counting
    function animateCounters() {
      const counters = document.querySelectorAll('.counter');
      const speed = 60; // Lower is faster

      const startCounter = (el) => {
        const target = +el.getAttribute('data-target');
        let count = 0;

        const updateCount = () => {
          const inc = target / speed;
          if (count < target) {
            count = Math.ceil(count + inc);
            el.innerText = count;
            setTimeout(updateCount, 20);
          } else {
            el.innerText = target;
          }
        };
        updateCount();
      };

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              startCounter(entry.target);
              observer.unobserve(entry.target); // Run only once
            }
          });
        },
        { threshold: 0.5 },
      );

      counters.forEach((counter) => observer.observe(counter));
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', animateCounters);
  </script>
</Layout>
